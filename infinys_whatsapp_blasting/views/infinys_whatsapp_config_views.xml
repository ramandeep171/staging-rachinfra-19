<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_whatsapp_account_form_inherit_infinys" model="ir.ui.view">
            <field name="name">whatsapp.account.view.form.inherit.infinys</field>
            <field name="model">whatsapp.account</field>
            <field name="inherit_id" ref="whatsapp.whatsapp_account_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@id='api_setup']" position="after">
                    <div class="o_horizontal_separator mt-4 mb-3 text-uppercase fw-bolder small">
                        Infinys Gateway
                    </div>
                    <div class="row mt16 o_settings_container">
                        <setting>
                            <field name="provider" required="1"/>
                        </setting>
                        <setting>
                            <field name="whatsapp_api_url" placeholder="https://your-whatsapp-api-url.com"/>
                        </setting>
                        <setting>
                            <field name="webhook_url" placeholder="https://your-n8n-webhook-url.com"/>
                        </setting>
                    </div>
                    <div class="row mt16 o_settings_container">
                        <setting>
                            <field name="authentication_user"/>
                        </setting>
                        <setting>
                            <field name="authentication_password" password="True"/>
                        </setting>
                        <setting>
                            <field name="welcome_message"/>
                        </setting>
                    </div>
                    <div class="row mt16 o_settings_container">
                        <setting>
                            <field name="whatsapp_number" string="Phone Number ID (WAHA)"/>
                        </setting>
                        <setting>
                            <button name="btn_test_credential" type="object" class="btn-link p-1" string="Test WAHA Credentials" icon="fa-key"/>
                        </setting>
                    </div>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
