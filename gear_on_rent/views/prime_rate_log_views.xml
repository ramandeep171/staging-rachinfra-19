<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_gear_prime_rate_log_tree" model="ir.ui.view">
        <field name="name">gear.prime.rate.log.tree</field>
        <field name="model">gear.prime.rate.log</field>
        <field name="arch" type="xml">
            <list create="0" edit="0">
                <field name="calc_time"/>
                <field name="order_id"/>
                <field name="mgq"/>
                <field name="production_qty"/>
                <field name="project_months"/>
                <field name="mgq_prime_rate"/>
                <field name="prime_rate"/>
                <field name="final_prime_rate"/>
                <field name="prime_rate_source"/>
                <field name="running_per_cum"/>
                <field name="depreciation_per_cum"/>
                <field name="dead_per_cum"/>
                <field name="margin_per_cum"/>
                <field name="optional_per_cum"/>
            </list>
        </field>
    </record>

    <record id="view_gear_prime_rate_log_form" model="ir.ui.view">
        <field name="name">gear.prime.rate.log.form</field>
        <field name="model">gear.prime.rate.log</field>
        <field name="arch" type="xml">
            <form string="Prime Rate Log" create="0" edit="0">
                <sheet>
                    <group>
                        <group string="Quotation">
                            <field name="order_id"/>
                            <field name="calc_time"/>
                            <field name="inventory_mode"/>
                            <field name="mgq"/>
                            <field name="production_qty"/>
                            <field name="project_months"/>
                            <field name="service_type"/>
                            <field name="capacity_id"/>
                        </group>
                        <group string="Prime Rate Summary">
                            <field name="prime_rate"/>
                            <field name="margin_per_cum"/>
                            <field name="material_per_cum"/>
                            <field name="optional_per_cum"/>
                            <field name="final_prime_rate"/>
                            <field name="raw_prime_rate"/>
                            <field name="mgq_prime_rate"/>
                            <field name="prime_rate_source"/>
                        </group>
                        <group string="Optimize Rate Summary">
                            <field name="optimize_rate"/>
                            <field name="after_mgq_rate"/>
                            <field name="after_mgq_formula_display" nolabel="1" class="text-muted"/>
                        </group>
                    </group>
                    <group string="A" colspan="2">
                        <group string="Running">
                            <field name="running_monthly"/>
                            <field name="running_per_cum"/>
                            <field name="running_source"/>
                        </group>
                        <group string="Interest"
                               invisible="interest_monthly == 0.0 and interest_per_cum == 0.0">
                            <field name="interest_per_cum"/>
                            <field name="interest_monthly"/>
                            <field name="interest_source"/>
                        </group>
                    </group>
                    <group string="B"
                           colspan="2"
                           invisible="variable_total_per_cum == 0.0">
                        <group string="Variable Cost">
                            <field name="variable_power_per_cum" invisible="variable_power_per_cum == 0.0"/>
                            <field name="variable_diesel_per_cum" invisible="variable_diesel_per_cum == 0.0"/>
                            <field name="variable_jcb_per_cum" invisible="variable_jcb_per_cum == 0.0"/>
                            <field name="variable_total_per_cum"/>
                            <field name="variable_source"/>
                        </group>
                    </group>
                    <group string="C" colspan="2">
                        <group string="Depreciation">
                            <field name="capex_total" string="Component Total"/>
                            <field name="depreciation_monthly"/>
                            <field name="depreciation_per_cum"/>
                            <field name="depreciation_source"/>
                        </group>
                        <group string="Dead Cost"
                               invisible="dead_total == 0.0 and dead_per_cum == 0.0">
                            <field name="dead_total"/>
                            <field name="dead_per_cum"/>
                            <field name="dead_source"/>
                        </group>
                    </group>
                    <group string="Optional Services"
                           invisible="optional_per_cum == 0.0 and not optional_line_ids">
                        <group col="2" colspan="2">
                            <group string="Transport Cost">
                                <field name="transport_rate_value" string="Rate Value" nolabel="0"/>
                                <field name="transport_qty" string="Qty" nolabel="0"/>
                                <label for="transport_fixed" class="o_form_label" string="Fixed Transport"/>
                                <field name="transport_fixed" nolabel="1"/>
                                <label for="transport_total" class="o_form_label" string="Total Transport"/>
                                <field name="transport_total" nolabel="1"/>
                                <field name="transport_per_cum" string="D. Per CUM" nolabel="0"/>
                                <label for="transport_variable" class="o_form_label" string="E. Variable Diesel"/>
                                <field name="transport_variable" nolabel="1"/>
                                <field name="transport_per_cum_total" string="Total Transport (D+E per CUM)" nolabel="0"/>
                            </group>
                            <group string="Pumping Cost">
                                <field name="pumping_rate_value" string="Rate Value" nolabel="0"/>
                                <field name="pumping_qty" string="Qty" nolabel="0"/>
                                <label for="pumping_fixed" class="o_form_label" string="Pump Rental"/>
                                <field name="pumping_fixed" nolabel="1"/>
                                <label for="pumping_total" class="o_form_label" string="Total Pumping"/>
                                <field name="pumping_total" nolabel="1"/>
                                <field name="pumping_per_cum" string="F. Per CUM" nolabel="0"/>
                                <label for="pumping_variable" class="o_form_label" string="G. Pump Diesel"/>
                                <field name="pumping_variable" nolabel="1"/>
                                <field name="pumping_per_cum_total" string="Total Pumping (F+G per CUM)" nolabel="0"/>
                            </group>
                        </group>
                        <group>
                            <field name="optional_per_cum" string="Optional / CUM"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_gear_prime_rate_log" model="ir.actions.act_window">
        <field name="name">Prime Rate Logs</field>
        <field name="res_model">gear.prime.rate.log</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_gear_prime_rate_log_tree"/>
    </record>

    <menuitem id="menu_gear_prime_rate_log"
              name="Prime Rate Logs"
              parent="menu_gear_on_rent_masters"
              action="action_gear_prime_rate_log"
              sequence="8"/>
</odoo>
