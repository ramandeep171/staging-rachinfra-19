<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_gear_prime_rate_log_tree" model="ir.ui.view">
        <field name="name">gear.prime.rate.log.tree</field>
        <field name="model">gear.prime.rate.log</field>
        <field name="arch" type="xml">
            <list create="0" edit="0">
                <field name="calc_time"/>
                <field name="order_id"/>
                <field name="mgq"/>
                <field name="production_qty"/>
                <field name="project_months"/>
                <field name="mgq_prime_rate"/>
                <field name="prime_rate"/>
                <field name="final_prime_rate"/>
                <field name="prime_rate_source"/>
                <field name="running_per_cum"/>
                <field name="depreciation_per_cum"/>
                <field name="dead_per_cum"/>
                <field name="margin_per_cum"/>
                <field name="optional_per_cum"/>
            </list>
        </field>
    </record>

    <record id="view_gear_prime_rate_log_form" model="ir.ui.view">
        <field name="name">gear.prime.rate.log.form</field>
        <field name="model">gear.prime.rate.log</field>
        <field name="arch" type="xml">
            <form string="Prime Rate Log" create="0" edit="0">
                <sheet>
                    <group>
                        <group string="Quotation">
                            <field name="order_id"/>
                            <field name="calc_time"/>
                            <field name="inventory_mode"/>
                            <field name="mgq"/>
                            <field name="production_qty"/>
                            <field name="project_months"/>
                            <field name="service_type"/>
                            <field name="capacity_id"/>
                        </group>
                        <group string="Prime Rate Summary">
                            <field name="prime_rate"/>
                            <field name="margin_per_cum"/>
                            <field name="material_per_cum"/>
                            <field name="optional_per_cum"/>
                            <field name="final_prime_rate"/>
                            <field name="raw_prime_rate"/>
                            <field name="mgq_prime_rate"/>
                            <field name="prime_rate_source"/>
                        </group>
                        <group string="Optimize Rate Summary">
                            <field name="optimize_rate"/>
                            <field name="after_mgq_rate"/>
                        </group>
                    </group>
                    <group string="Cost Components" colspan="2">
                        <group string="Running">
                            <field name="running_monthly"/>
                            <field name="running_per_cum"/>
                            <field name="running_source"/>
                        </group>
                        <group string="Depreciation">
                            <field name="capex_total" string="Component Total"/>
                            <field name="depreciation_monthly"/>
                            <field name="depreciation_per_cum"/>
                            <field name="depreciation_source"/>
                        </group>
                        <group string="Dead Cost"
                               modifiers='{"invisible": [["dead_total", "=", 0.0], ["dead_per_cum", "=", 0.0]]}'>
                            <field name="dead_total"/>
                            <field name="dead_per_cum"/>
                            <field name="dead_source"/>
                        </group>
                        <group string="Interest"
                               modifiers='{"invisible": [["interest_monthly", "=", 0.0], ["interest_per_cum", "=", 0.0]]}'>
                            <field name="interest_per_cum"/>
                            <field name="interest_monthly"/>
                            <field name="interest_source"/>
                        </group>
                    </group>
                    <group string="Optional Services"
                           modifiers='{"invisible": [["optional_per_cum", "=", 0.0], ["optional_line_ids", "=", false]]}'>
                        <field name="optional_per_cum"/>
                        <field name="optional_line_ids" nolabel="1"
                               options="{'no_create': True, 'no_edit': True, 'no_open': True}">
                            <list create="0" edit="0">
                                <field name="name"/>
                                <field name="rate_value"/>
                                <field name="quantity"/>
                                <field name="per_cum"/>
                                <field name="total_amount"/>
                                <field name="charge_type"/>
                            </list>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_gear_prime_rate_log" model="ir.actions.act_window">
        <field name="name">Prime Rate Logs</field>
        <field name="res_model">gear.prime.rate.log</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_gear_prime_rate_log_tree"/>
    </record>

    <menuitem id="menu_gear_prime_rate_log"
              name="Prime Rate Logs"
              parent="menu_gear_on_rent_masters"
              action="action_gear_prime_rate_log"
              sequence="8"/>
</odoo>
