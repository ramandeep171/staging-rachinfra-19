<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.ui.view" id="compose_message_inherit">
        <field name="name">mail.compose.message.form.inherit</field>
        <field name="model">mail.compose.message</field>
        <field name="inherit_id" ref="mail.email_compose_message_wizard_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='reply_to']" position="replace">
                <field name="reply_to" placeholder="Email address to redirect replies..."/>
            </xpath>
            <xpath expr="//field[@name='subject']" position="before">
                <!-- Odoo 18: removed attrs/states; keep fields always visible -->
                <field name="ks_cc_partner_ids" widget="many2many_tags_email" string="Cc (Partners)"/>
                <field name="ks_bcc_partner_ids" widget="many2many_tags_email" string="Bcc (Partners)"/>
                <field name="email_to" colspan="2"/>
                <field name="ks_email_char_cc"/>
                <field name="ks_email_char_bcc"/>
                <!-- internal flags kept but hidden -->
                <field name="ks_email_char_cc_visibility" invisible="1"/>
                <field name="ks_email_char_bcc_visibility" invisible="1"/>
                <field name="ks_reply_to_bcc_visibility" invisible="1"/>
                <field name="ks_cc_partner_visibility" invisible="1"/>
                <field name="ks_bcc_partner_visibility" invisible="1"/>
                <field name="ks_email_to_visibility" invisible="1"/>
            </xpath>
        </field>
    </record>
</odoo>